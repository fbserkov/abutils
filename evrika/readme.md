# Введение

Загрузка реестров платежей с сайта [ИТ Эврика](https://willart.evrikaplat.ru/)
и их сохранение на сетевом диске.

## Инструкция с сайта ИТ Эврика

Просмотр платежей:
1. В левом верхнем углу нажмите на кнопку "Отчеты" и выберете "Транзакции";
1. В поле "Контрагенты" выберете нужного;
1. В поле "Комплексы" выберете нужные (если необходимо);
1. В поле "Типы платежей" выберете нужные (если необходимо);
1. Установите необходимый диапазон поиска по дате;
1. При необходимости более детального поиска заполните поля: Лицевой счет и/или
Номер телефона, и/или Номер транзакции, и/или Номер платежного поручения;
1. Выберете в каком формате вы хотите получить результат (показать на экране /
распечатать / файл PDF / файл EXCEL / файл XML).

# Примеры команд

Отображение справочной информации:

    python evrika/main.py -h

Запуск в режиме локального тестирования:

    python evrika/main.py evrika/config.json

Нормальный запуск (с журналированием в файл):

    python evrika/main.py evrika/config.json -lp

Нормальный запуск с указанием конкретной даты (по умолчанию загружаются
реестры за прошедшие сутки):

    python evrika/main.py evrika/config.json -pd <ddmmYYYY>

# Конфигурационные файлы

config.py  
Позволяет указать целевой сервер, сетевую директорию и пользователя, которому
предоставлен доступ на запись.

[targets/config.json](targets/_sample.json)  
Позволяет указать директории и поддиректории, в которые необходимо выгрузить
реестры платежей. Для директории указывается соответствующий контрагент. Для
поддиректории - источники и, при необходимости, комплекс. Если имя файла
начинается с подчёркивания, то в обработке файл не участвует.

# Примечание

Ссылки для просмотра сетевых директорий (см. *sample.json*):

    smb://<ip>/Share/<path>/<to>/<directory>
    smb://<ip>/Share/<path>/<to>/<directory>/test
